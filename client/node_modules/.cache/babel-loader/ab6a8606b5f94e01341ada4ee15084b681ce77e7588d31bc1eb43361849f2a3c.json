{"ast":null,"code":"var _jsxFileName = \"D:\\\\car rental\\\\client\\\\src\\\\pages\\\\Admin\\\\CreateProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"./../../components/Layout/Layout\";\nimport AdminMenu from \"./../../components/Layout/AdminMenu\";\nimport toast from \"react-hot-toast\";\nimport axios from \"axios\";\nimport { Select } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaTrash, FaPlus } from \"react-icons/fa\";\nimport \"./CreateProduct.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst CreateProduct = () => {\n  _s();\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    category: \"\",\n    quantity: \"\",\n    features: [],\n    specifications: []\n  });\n  const [mainPhoto, setMainPhoto] = useState(null);\n  const [additionalPhotos, setAdditionalPhotos] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Get all categories\n  const getAllCategory = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(\"/api/v1/category/get-category\");\n      if (data !== null && data !== void 0 && data.success) {\n        setCategories(data === null || data === void 0 ? void 0 : data.category);\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Error fetching categories\");\n    }\n  };\n  useEffect(() => {\n    getAllCategory();\n  }, []);\n\n  // Handle form input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle main photo change\n  const handleMainPhotoChange = e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      setMainPhoto(file);\n    } else {\n      toast.error(\"Please select a valid image file\");\n    }\n  };\n\n  // Handle additional photos change\n  const handleAdditionalPhotosChange = e => {\n    const files = Array.from(e.target.files);\n    const validFiles = files.filter(file => file.type.startsWith('image/'));\n    if (validFiles.length + additionalPhotos.length > 5) {\n      toast.error(\"Maximum 5 additional photos allowed\");\n      return;\n    }\n    setAdditionalPhotos(prev => [...prev, ...validFiles]);\n  };\n\n  // Remove additional photo\n  const removeAdditionalPhoto = index => {\n    setAdditionalPhotos(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Handle features\n  const addFeature = () => {\n    setFormData(prev => ({\n      ...prev,\n      features: [...prev.features, \"\"]\n    }));\n  };\n  const removeFeature = index => {\n    setFormData(prev => ({\n      ...prev,\n      features: prev.features.filter((_, i) => i !== index)\n    }));\n  };\n  const updateFeature = (index, value) => {\n    setFormData(prev => ({\n      ...prev,\n      features: prev.features.map((feature, i) => i === index ? value : feature)\n    }));\n  };\n\n  // Handle specifications\n  const addSpecification = () => {\n    setFormData(prev => ({\n      ...prev,\n      specifications: [...prev.specifications, {\n        key: \"\",\n        value: \"\"\n      }]\n    }));\n  };\n  const removeSpecification = index => {\n    setFormData(prev => ({\n      ...prev,\n      specifications: prev.specifications.filter((_, i) => i !== index)\n    }));\n  };\n  const updateSpecification = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      specifications: prev.specifications.map((spec, i) => i === index ? {\n        ...spec,\n        [field]: value\n      } : spec)\n    }));\n  };\n\n  // Create product function\n  const handleCreate = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n\n      // Validation\n      if (!mainPhoto) {\n        toast.error(\"Main photo is required\");\n        setLoading(false);\n        return;\n      }\n      if (!formData.name || !formData.description || !formData.price || !formData.category) {\n        toast.error(\"Please fill all required fields\");\n        setLoading(false);\n        return;\n      }\n\n      // Create FormData object\n      const productData = new FormData();\n\n      // Append basic fields\n      productData.append(\"name\", formData.name);\n      productData.append(\"description\", formData.description);\n      productData.append(\"price\", formData.price);\n      productData.append(\"category\", formData.category);\n      productData.append(\"quantity\", formData.quantity || 1);\n\n      // Append features if any\n      if (formData.features && formData.features.length > 0) {\n        productData.append(\"features\", JSON.stringify(formData.features.filter(f => f.trim() !== \"\")));\n      }\n\n      // Append specifications if any\n      if (formData.specifications && formData.specifications.length > 0) {\n        const validSpecs = formData.specifications.filter(spec => spec.key.trim() !== \"\" && spec.value.trim() !== \"\");\n        productData.append(\"specifications\", JSON.stringify(validSpecs));\n      }\n\n      // Append main photo\n      productData.append(\"mainPhoto\", mainPhoto);\n\n      // Append additional photos\n      if (additionalPhotos.length > 0) {\n        additionalPhotos.forEach(photo => {\n          productData.append(\"additionalPhotos\", photo);\n        });\n      }\n\n      // Make API call\n      const {\n        data\n      } = await axios.post(\"/api/v1/product/create-product\", productData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      if (data !== null && data !== void 0 && data.success) {\n        toast.success(\"Product Created Successfully\");\n        navigate(\"/dashboard/admin/products\");\n      } else {\n        toast.error((data === null || data === void 0 ? void 0 : data.message) || \"Error creating product\");\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.log(error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Something went wrong\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Dashboard - Create Product\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid m-3 p-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(AdminMenu, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-9\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"create-product-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"form-title\",\n              children: \"Create New Car Listing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                bordered: false,\n                placeholder: \"Select a category\",\n                size: \"large\",\n                showSearch: true,\n                className: \"form-select mb-3\",\n                onChange: value => setFormData(prev => ({\n                  ...prev,\n                  category: value\n                })),\n                children: categories === null || categories === void 0 ? void 0 : categories.map(c => /*#__PURE__*/_jsxDEV(Option, {\n                  value: c._id,\n                  children: c.name\n                }, c._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: \"Photos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"photo-upload-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"main-photo-upload\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"upload-label\",\n                    children: [\"Main Photo *\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      accept: \"image/*\",\n                      onChange: handleMainPhotoChange,\n                      className: \"hidden-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 21\n                  }, this), mainPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"photo-preview\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: URL.createObjectURL(mainPhoto),\n                      alt: \"Main preview\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"remove-photo\",\n                      onClick: () => setMainPhoto(null),\n                      children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"additional-photos\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"upload-label\",\n                    children: [\"Additional Photos (Max 5)\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      accept: \"image/*\",\n                      multiple: true,\n                      onChange: handleAdditionalPhotosChange,\n                      className: \"hidden-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"photos-grid\",\n                    children: additionalPhotos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"photo-preview\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: URL.createObjectURL(photo),\n                        alt: `Preview ${index + 1}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"remove-photo\",\n                        onClick: () => removeAdditionalPhoto(index),\n                        children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 288,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 27\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: \"Basic Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"name\",\n                value: formData.name,\n                placeholder: \"Car Name *\",\n                className: \"form-control mb-3\",\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"description\",\n                value: formData.description,\n                placeholder: \"Description *\",\n                className: \"form-control mb-3\",\n                rows: \"4\",\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"price\",\n                    value: formData.price,\n                    placeholder: \"Daily Rental Price (\\u20B9) *\",\n                    className: \"form-control mb-3\",\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"quantity\",\n                    value: formData.quantity,\n                    placeholder: \"Available Units\",\n                    className: \"form-control mb-3\",\n                    onChange: handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: [\"Features\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-add\",\n                  onClick: addFeature,\n                  children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 21\n                  }, this), \" Add Feature\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), formData.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"feature-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: feature,\n                  placeholder: \"Enter feature\",\n                  className: \"form-control\",\n                  onChange: e => updateFeature(index, e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-remove\",\n                  onClick: () => removeFeature(index),\n                  children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: [\"Specifications\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-add\",\n                  onClick: addSpecification,\n                  children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 21\n                  }, this), \" Add Specification\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this), formData.specifications.map((spec, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"specification-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: spec.key,\n                  placeholder: \"Specification name\",\n                  className: \"form-control\",\n                  onChange: e => updateSpecification(index, 'key', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: spec.value,\n                  placeholder: \"Specification value\",\n                  className: \"form-control\",\n                  onChange: e => updateSpecification(index, 'value', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-remove\",\n                  onClick: () => removeSpecification(index),\n                  children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-section\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-create\",\n                onClick: handleCreate,\n                disabled: loading,\n                children: loading ? \"Creating...\" : \"Create Car Listing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateProduct, \"7vsTN40SpvccsCJ47x9WV3m/6vU=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateProduct;\nexport default CreateProduct;\nvar _c;\n$RefreshReg$(_c, \"CreateProduct\");","map":{"version":3,"names":["React","useState","useEffect","Layout","AdminMenu","toast","axios","Select","useNavigate","FaTrash","FaPlus","jsxDEV","_jsxDEV","Option","CreateProduct","_s","navigate","categories","setCategories","formData","setFormData","name","description","price","category","quantity","features","specifications","mainPhoto","setMainPhoto","additionalPhotos","setAdditionalPhotos","loading","setLoading","getAllCategory","data","get","success","error","console","log","handleInputChange","e","value","target","prev","handleMainPhotoChange","file","files","type","startsWith","handleAdditionalPhotosChange","Array","from","validFiles","filter","length","removeAdditionalPhoto","index","_","i","addFeature","removeFeature","updateFeature","map","feature","addSpecification","key","removeSpecification","updateSpecification","field","spec","handleCreate","preventDefault","productData","FormData","append","JSON","stringify","f","trim","validSpecs","forEach","photo","post","headers","message","_error$response","_error$response$data","response","title","children","className","fileName","_jsxFileName","lineNumber","columnNumber","bordered","placeholder","size","showSearch","onChange","c","_id","accept","src","URL","createObjectURL","alt","onClick","multiple","rows","disabled","_c","$RefreshReg$"],"sources":["D:/car rental/client/src/pages/Admin/CreateProduct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"./../../components/Layout/Layout\";\nimport AdminMenu from \"./../../components/Layout/AdminMenu\";\nimport toast from \"react-hot-toast\";\nimport axios from \"axios\";\nimport { Select } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaTrash, FaPlus } from \"react-icons/fa\";\nimport \"./CreateProduct.css\";\n\nconst { Option } = Select;\n\nconst CreateProduct = () => {\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    category: \"\",\n    quantity: \"\",\n    features: [],\n    specifications: []\n  });\n  const [mainPhoto, setMainPhoto] = useState(null);\n  const [additionalPhotos, setAdditionalPhotos] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Get all categories\n  const getAllCategory = async () => {\n    try {\n      const { data } = await axios.get(\"/api/v1/category/get-category\");\n      if (data?.success) {\n        setCategories(data?.category);\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Error fetching categories\");\n    }\n  };\n\n  useEffect(() => {\n    getAllCategory();\n  }, []);\n\n  // Handle form input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle main photo change\n  const handleMainPhotoChange = (e) => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      setMainPhoto(file);\n    } else {\n      toast.error(\"Please select a valid image file\");\n    }\n  };\n\n  // Handle additional photos change\n  const handleAdditionalPhotosChange = (e) => {\n    const files = Array.from(e.target.files);\n    const validFiles = files.filter(file => file.type.startsWith('image/'));\n    if (validFiles.length + additionalPhotos.length > 5) {\n      toast.error(\"Maximum 5 additional photos allowed\");\n      return;\n    }\n    setAdditionalPhotos(prev => [...prev, ...validFiles]);\n  };\n\n  // Remove additional photo\n  const removeAdditionalPhoto = (index) => {\n    setAdditionalPhotos(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Handle features\n  const addFeature = () => {\n    setFormData(prev => ({\n      ...prev,\n      features: [...prev.features, \"\"]\n    }));\n  };\n\n  const removeFeature = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      features: prev.features.filter((_, i) => i !== index)\n    }));\n  };\n\n  const updateFeature = (index, value) => {\n    setFormData(prev => ({\n      ...prev,\n      features: prev.features.map((feature, i) => i === index ? value : feature)\n    }));\n  };\n\n  // Handle specifications\n  const addSpecification = () => {\n    setFormData(prev => ({\n      ...prev,\n      specifications: [...prev.specifications, { key: \"\", value: \"\" }]\n    }));\n  };\n\n  const removeSpecification = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      specifications: prev.specifications.filter((_, i) => i !== index)\n    }));\n  };\n\n  const updateSpecification = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      specifications: prev.specifications.map((spec, i) => \n        i === index ? { ...spec, [field]: value } : spec\n      )\n    }));\n  };\n\n  // Create product function\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      \n      // Validation\n      if (!mainPhoto) {\n        toast.error(\"Main photo is required\");\n        setLoading(false);\n        return;\n      }\n      if (!formData.name || !formData.description || !formData.price || !formData.category) {\n        toast.error(\"Please fill all required fields\");\n        setLoading(false);\n        return;\n      }\n\n      // Create FormData object\n      const productData = new FormData();\n      \n      // Append basic fields\n      productData.append(\"name\", formData.name);\n      productData.append(\"description\", formData.description);\n      productData.append(\"price\", formData.price);\n      productData.append(\"category\", formData.category);\n      productData.append(\"quantity\", formData.quantity || 1);\n\n      // Append features if any\n      if (formData.features && formData.features.length > 0) {\n        productData.append(\"features\", JSON.stringify(formData.features.filter(f => f.trim() !== \"\")));\n      }\n\n      // Append specifications if any\n      if (formData.specifications && formData.specifications.length > 0) {\n        const validSpecs = formData.specifications.filter(spec => spec.key.trim() !== \"\" && spec.value.trim() !== \"\");\n        productData.append(\"specifications\", JSON.stringify(validSpecs));\n      }\n\n      // Append main photo\n      productData.append(\"mainPhoto\", mainPhoto);\n\n      // Append additional photos\n      if (additionalPhotos.length > 0) {\n        additionalPhotos.forEach(photo => {\n          productData.append(\"additionalPhotos\", photo);\n        });\n      }\n\n      // Make API call\n      const { data } = await axios.post(\n        \"/api/v1/product/create-product\",\n        productData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      if (data?.success) {\n        toast.success(\"Product Created Successfully\");\n        navigate(\"/dashboard/admin/products\");\n      } else {\n        toast.error(data?.message || \"Error creating product\");\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(error.response?.data?.error || \"Something went wrong\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Layout title={\"Dashboard - Create Product\"}>\n      <div className=\"container-fluid m-3 p-3\">\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <AdminMenu />\n          </div>\n          <div className=\"col-md-9\">\n            <div className=\"create-product-form\">\n              <h1 className=\"form-title\">Create New Car Listing</h1>\n\n              {/* Category Selection */}\n              <div className=\"form-section\">\n                <h3 className=\"section-title\">Category</h3>\n                <Select\n                  bordered={false}\n                  placeholder=\"Select a category\"\n                  size=\"large\"\n                  showSearch\n                  className=\"form-select mb-3\"\n                  onChange={(value) => setFormData(prev => ({ ...prev, category: value }))}\n                >\n                  {categories?.map((c) => (\n                    <Option key={c._id} value={c._id}>\n                      {c.name}\n                    </Option>\n                  ))}\n                </Select>\n              </div>\n\n              {/* Photo Upload Section */}\n              <div className=\"form-section\">\n                <h3 className=\"section-title\">Photos</h3>\n                \n                {/* Main Photo */}\n                <div className=\"photo-upload-container\">\n                  <div className=\"main-photo-upload\">\n                    <label className=\"upload-label\">\n                      Main Photo *\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleMainPhotoChange}\n                        className=\"hidden-input\"\n                      />\n                    </label>\n                    {mainPhoto && (\n                      <div className=\"photo-preview\">\n                        <img\n                          src={URL.createObjectURL(mainPhoto)}\n                          alt=\"Main preview\"\n                        />\n                        <button \n                          type=\"button\" \n                          className=\"remove-photo\"\n                          onClick={() => setMainPhoto(null)}\n                        >\n                          <FaTrash />\n                        </button>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Additional Photos */}\n                  <div className=\"additional-photos\">\n                    <label className=\"upload-label\">\n                      Additional Photos (Max 5)\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        multiple\n                        onChange={handleAdditionalPhotosChange}\n                        className=\"hidden-input\"\n                      />\n                    </label>\n                    <div className=\"photos-grid\">\n                      {additionalPhotos.map((photo, index) => (\n                        <div key={index} className=\"photo-preview\">\n                          <img\n                            src={URL.createObjectURL(photo)}\n                            alt={`Preview ${index + 1}`}\n                          />\n                          <button \n                            type=\"button\"\n                            className=\"remove-photo\"\n                            onClick={() => removeAdditionalPhoto(index)}\n                          >\n                            <FaTrash />\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Basic Information */}\n              <div className=\"form-section\">\n                <h3 className=\"section-title\">Basic Information</h3>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  placeholder=\"Car Name *\"\n                  className=\"form-control mb-3\"\n                  onChange={handleInputChange}\n                />\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  placeholder=\"Description *\"\n                  className=\"form-control mb-3\"\n                  rows=\"4\"\n                  onChange={handleInputChange}\n                />\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <input\n                      type=\"number\"\n                      name=\"price\"\n                      value={formData.price}\n                      placeholder=\"Daily Rental Price (â‚¹) *\"\n                      className=\"form-control mb-3\"\n                      onChange={handleInputChange}\n                    />\n                  </div>\n                  <div className=\"col-md-6\">\n                    <input\n                      type=\"number\"\n                      name=\"quantity\"\n                      value={formData.quantity}\n                      placeholder=\"Available Units\"\n                      className=\"form-control mb-3\"\n                      onChange={handleInputChange}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Features Section */}\n              <div className=\"form-section\">\n                <h3 className=\"section-title\">\n                  Features\n                  <button type=\"button\" className=\"btn-add\" onClick={addFeature}>\n                    <FaPlus /> Add Feature\n                  </button>\n                </h3>\n                {formData.features.map((feature, index) => (\n                  <div key={index} className=\"feature-input\">\n                    <input\n                      type=\"text\"\n                      value={feature}\n                      placeholder=\"Enter feature\"\n                      className=\"form-control\"\n                      onChange={(e) => updateFeature(index, e.target.value)}\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"btn-remove\"\n                      onClick={() => removeFeature(index)}\n                    >\n                      <FaTrash />\n                    </button>\n                  </div>\n                ))}\n              </div>\n\n              {/* Specifications Section */}\n              <div className=\"form-section\">\n                <h3 className=\"section-title\">\n                  Specifications\n                  <button type=\"button\" className=\"btn-add\" onClick={addSpecification}>\n                    <FaPlus /> Add Specification\n                  </button>\n                </h3>\n                {formData.specifications.map((spec, index) => (\n                  <div key={index} className=\"specification-input\">\n                    <input\n                      type=\"text\"\n                      value={spec.key}\n                      placeholder=\"Specification name\"\n                      className=\"form-control\"\n                      onChange={(e) => updateSpecification(index, 'key', e.target.value)}\n                    />\n                    <input\n                      type=\"text\"\n                      value={spec.value}\n                      placeholder=\"Specification value\"\n                      className=\"form-control\"\n                      onChange={(e) => updateSpecification(index, 'value', e.target.value)}\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"btn-remove\"\n                      onClick={() => removeSpecification(index)}\n                    >\n                      <FaTrash />\n                    </button>\n                  </div>\n                ))}\n              </div>\n\n              {/* Submit Button */}\n              <div className=\"form-section\">\n                <button \n                  className=\"btn-create\" \n                  onClick={handleCreate}\n                  disabled={loading}\n                >\n                  {loading ? \"Creating...\" : \"Create Car Listing\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default CreateProduct;\n\n "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}